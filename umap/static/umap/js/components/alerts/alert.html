{% load i18n static %}

<style type="text/css">
  @import "{% static 'umap/js/components/alerts/alert.css' %}";
</style>

<template id="umap-alert-template">
  <div role="dialog" class="dark window">
    <div>
      <p role="alert"></p>
    </div>
    <ul class="buttons">
      <li>
        <button class="icon icon-16 icon-close" aria-label="{% translate "Close" %}" data-close></button>
      </li>
    </ul>
  </div>
</template>

<umap-alert></umap-alert>

<template id="umap-alert-creation-template">
  <div role="dialog" class="dark window">
    <div>
      <p role="alert"></p>
      <div id="link-wrapper">
        <form>
          <input type="url" name="url">
          <input type="button" value="{% translate "Copy link" %}">
        </form>
      </div>
      <div id="form-wrapper" hidden>
        <p>{% translate "You can also receive that URL by email:" %}</p>
        <form>
          <input type="email" name="email" class="umap-alert-input" required>
          <input type="submit" value="{% translate "Send me the link" %}" class="umap-action">
        </form>
      </div>
    </div>
    <ul class="buttons">
      <li>
        <button class="icon icon-16 icon-close" aria-label="{% translate "Close" %}" data-close></button>
      </li>
    </ul>
  </div>
</template>

<umap-alert-creation></umap-alert-creation>

<template id="umap-alert-choice-template">
  <div role="dialog" class="dark window">
    <div>
      <p role="alert"></p>
      <div id="choice-wrapper">
        <form>
          <a href="#" onclick="document.url" target="_blank">{% translate "See their edits in another tab" %}</a>
          <input id="your-changes" type="submit" value="{% translate "Keep your changes and loose theirs" %}">
          <input id="their-changes" type="submit" value="{% translate "Keep their changes and loose yours" %}">
        </form>
      </div>
    </div>
    <ul class="buttons">
      <li>
        <button class="icon icon-16 icon-close" aria-label="{% translate "Close" %}" data-close></button>
      </li>
    </ul>
  </div>
</template>

<umap-alert-choice></umap-alert-choice>

<script type="module">
  import { register } from '{% static 'umap/js/components/base.js' %}'
  import {
    uMapAlert,
    uMapAlertCreation,
    uMapAlertChoice
  } from '{% static 'umap/js/components/alerts/alert.js' %}'
  register(uMapAlert, 'umap-alert')
  register(uMapAlertCreation, 'umap-alert-creation')
  register(uMapAlertChoice, 'umap-alert-choice')
</script>
